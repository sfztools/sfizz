<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Home - Sfizz</title>
		<meta name="author" content="Paul Ferrand">
		<meta name="web-author" content="RedTide">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- Atom Feeds -->
		<link href="./../atom.xml" rel="alternate" title="News"
			type="application/atom+xml" />
		<!-- Favicon Generator Icons -->
		<link rel="apple-touch-icon" sizes="180x180"
			href="./../assets/ico/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="./../assets/ico/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="./../assets/ico/favicon-16x16.png">
		<link rel="manifest" href="./../assets/ico/site.webmanifest">
		<link rel="mask-icon" href="./../assets/ico/safari-pinned-tab.svg"
			color="#5bbad5">
		<link rel="shortcut icon" href="./../assets/ico/favicon.ico">
		<meta name="msapplication-TileColor"
			content="#da532c">
		<meta name="msapplication-config" content="./../assets/ico/browserconfig.xml">
		<meta name="theme-color" content="#ffffff">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
		<!-- Stylesheets -->
		<link href="./../assets/css/style.min.css"
			rel="stylesheet" media="screen">
		<!-- Font Awesome Icons -->
		<script src="https://kit.fontawesome.com/8d25d19870.js"></script>
	</head>
	<body>
        <div class="container">
		<button onclick="topFunction()" id="scrollButton" title="Go to top">Top</button>
		<a href="#content" class="sr-only">Skip to content</a>
			<nav class="navbar navbar-expand-lg navbar-dark" style="background-color:#222">
				<a class="navbar-brand" href="./../"><img src="./../assets/img/logo.png"
                    width="30" height="30" class="d-inline-block">Sfizz</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse"
					data-target="#navbarContent" aria-controls="navbarContent"
					aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarContent">
					<ul class="navbar-nav mr-auto mt-2 mt-lg-0">
						<li class="nav-item">
							<a class="nav-link" href="./../status"><i class="fas fa-tasks fa-fw"
									aria-hidden="true"></i>&nbsp;Status</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="./../downloads"><i class="fas fa-download fa-fw"
									aria-hidden="true"></i>&nbsp;Downloads</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="./../contacts"><i class="fas fa-at fa-fw"
									aria-hidden="true"></i>&nbsp;Contacts</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="https://sfztools.github.io/"><i class="fas fa-home fa-fw"
									aria-hidden="true"></i>&nbsp;Home</a>
						</li>
					</ul>
				</div>
			</nav>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesfz.html">sfz</a></li><li class="navelem"><a class="el" href="classsfz_1_1_buffer.html">Buffer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classsfz_1_1_buffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sfz::Buffer&lt; Type, Alignment &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A heap buffer structure that tries to align its beginning and adds a small offset at the end for alignment too.  
 <a href="classsfz_1_1_buffer.html#details">More...</a></p>

<p><code>#include &lt;Buffer.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2760746470b636632cd6090cfe008884"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfz_1_1_buffer.html#a2760746470b636632cd6090cfe008884">Buffer</a> ()</td></tr>
<tr class="memdesc:a2760746470b636632cd6090cfe008884"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classsfz_1_1_buffer.html" title="A heap buffer structure that tries to align its beginning and adds a small offset at the end for alig...">Buffer</a> object that is empty.  <a href="#a2760746470b636632cd6090cfe008884">More...</a><br /></td></tr>
<tr class="separator:a2760746470b636632cd6090cfe008884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358a82cfc237822ffc4800adedc92635"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfz_1_1_buffer.html#a358a82cfc237822ffc4800adedc92635">Buffer</a> (size_t size)</td></tr>
<tr class="memdesc:a358a82cfc237822ffc4800adedc92635"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classsfz_1_1_buffer.html" title="A heap buffer structure that tries to align its beginning and adds a small offset at the end for alig...">Buffer</a> object with size.  <a href="#a358a82cfc237822ffc4800adedc92635">More...</a><br /></td></tr>
<tr class="separator:a358a82cfc237822ffc4800adedc92635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39cf7ea601dc9d488d5f948f22f7c8a6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfz_1_1_buffer.html#a39cf7ea601dc9d488d5f948f22f7c8a6">resize</a> (size_t newSize)</td></tr>
<tr class="memdesc:a39cf7ea601dc9d488d5f948f22f7c8a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes the buffer.  <a href="#a39cf7ea601dc9d488d5f948f22f7c8a6">More...</a><br /></td></tr>
<tr class="separator:a39cf7ea601dc9d488d5f948f22f7c8a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe4689394573298ac4471df3a82cff7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfz_1_1_buffer.html#a3fe4689394573298ac4471df3a82cff7">clear</a> ()</td></tr>
<tr class="memdesc:a3fe4689394573298ac4471df3a82cff7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the buffers and frees the underlying memory.  <a href="#a3fe4689394573298ac4471df3a82cff7">More...</a><br /></td></tr>
<tr class="separator:a3fe4689394573298ac4471df3a82cff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b85f8a8b1be4471fd52ecb71b3fe20d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfz_1_1_buffer.html#a9b85f8a8b1be4471fd52ecb71b3fe20d">Buffer</a> (const <a class="el" href="classsfz_1_1_buffer.html">Buffer</a>&lt; Type &gt; &amp;other)</td></tr>
<tr class="memdesc:a9b85f8a8b1be4471fd52ecb71b3fe20d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classsfz_1_1_buffer.html" title="A heap buffer structure that tries to align its beginning and adds a small offset at the end for alig...">Buffer</a> object from an existing one.  <a href="#a9b85f8a8b1be4471fd52ecb71b3fe20d">More...</a><br /></td></tr>
<tr class="separator:a9b85f8a8b1be4471fd52ecb71b3fe20d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a403769cc8059d61478ad9bfd332b25b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfz_1_1_buffer.html#a403769cc8059d61478ad9bfd332b25b4">Buffer</a> (<a class="el" href="classsfz_1_1_buffer.html">Buffer</a>&lt; Type &gt; &amp;&amp;other)=delete</td></tr>
<tr class="memdesc:a403769cc8059d61478ad9bfd332b25b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classsfz_1_1_buffer.html" title="A heap buffer structure that tries to align its beginning and adds a small offset at the end for alig...">Buffer</a> object by moving an existing one.  <a href="#a403769cc8059d61478ad9bfd332b25b4">More...</a><br /></td></tr>
<tr class="separator:a403769cc8059d61478ad9bfd332b25b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2c6dd38a79c8897a3d781d13f5ff46bd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classsfz_1_1_buffer_counter.html">BufferCounter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfz_1_1_buffer.html#a2c6dd38a79c8897a3d781d13f5ff46bd">counter</a> ()</td></tr>
<tr class="memdesc:a2c6dd38a79c8897a3d781d13f5ff46bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the buffer counter object.  <a href="#a2c6dd38a79c8897a3d781d13f5ff46bd">More...</a><br /></td></tr>
<tr class="separator:a2c6dd38a79c8897a3d781d13f5ff46bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Type, unsigned int Alignment = SIMDConfig::defaultAlignment&gt;<br />
class sfz::Buffer&lt; Type, Alignment &gt;</h3>

<p>A heap buffer structure that tries to align its beginning and adds a small offset at the end for alignment too. </p>
<p>Apparently on Linux this effort is mostly useless, and in the end most of the SIMD operations are coded with alignment checks and sentinels so this class could probably be much simpler. It does however wrap realloc which in some cases should be a bit more efficient than allocating a whole new block.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Type</td><td>The buffer type </td></tr>
    <tr><td class="paramname">Alignment</td><td>the required alignment in bytes (defaults to SIMDConfig::defaultAlignment) </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2760746470b636632cd6090cfe008884"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2760746470b636632cd6090cfe008884">&#9670;&nbsp;</a></span>Buffer() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type, unsigned int Alignment = SIMDConfig::defaultAlignment&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsfz_1_1_buffer.html">sfz::Buffer</a>&lt; Type, Alignment &gt;::<a class="el" href="classsfz_1_1_buffer.html">Buffer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="classsfz_1_1_buffer.html" title="A heap buffer structure that tries to align its beginning and adds a small offset at the end for alig...">Buffer</a> object that is empty. </p>

</div>
</div>
<a id="a358a82cfc237822ffc4800adedc92635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a358a82cfc237822ffc4800adedc92635">&#9670;&nbsp;</a></span>Buffer() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type, unsigned int Alignment = SIMDConfig::defaultAlignment&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsfz_1_1_buffer.html">sfz::Buffer</a>&lt; Type, Alignment &gt;::<a class="el" href="classsfz_1_1_buffer.html">Buffer</a> </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="classsfz_1_1_buffer.html" title="A heap buffer structure that tries to align its beginning and adds a small offset at the end for alig...">Buffer</a> object with size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9b85f8a8b1be4471fd52ecb71b3fe20d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b85f8a8b1be4471fd52ecb71b3fe20d">&#9670;&nbsp;</a></span>Buffer() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type, unsigned int Alignment = SIMDConfig::defaultAlignment&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsfz_1_1_buffer.html">sfz::Buffer</a>&lt; Type, Alignment &gt;::<a class="el" href="classsfz_1_1_buffer.html">Buffer</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsfz_1_1_buffer.html">Buffer</a>&lt; Type &gt; &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="classsfz_1_1_buffer.html" title="A heap buffer structure that tries to align its beginning and adds a small offset at the end for alig...">Buffer</a> object from an existing one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a403769cc8059d61478ad9bfd332b25b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a403769cc8059d61478ad9bfd332b25b4">&#9670;&nbsp;</a></span>Buffer() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type, unsigned int Alignment = SIMDConfig::defaultAlignment&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsfz_1_1_buffer.html">sfz::Buffer</a>&lt; Type, Alignment &gt;::<a class="el" href="classsfz_1_1_buffer.html">Buffer</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsfz_1_1_buffer.html">Buffer</a>&lt; Type &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="classsfz_1_1_buffer.html" title="A heap buffer structure that tries to align its beginning and adds a small offset at the end for alig...">Buffer</a> object by moving an existing one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3fe4689394573298ac4471df3a82cff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe4689394573298ac4471df3a82cff7">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type, unsigned int Alignment = SIMDConfig::defaultAlignment&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsfz_1_1_buffer.html">sfz::Buffer</a>&lt; Type, Alignment &gt;::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear the buffers and frees the underlying memory. </p>

</div>
</div>
<a id="a2c6dd38a79c8897a3d781d13f5ff46bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c6dd38a79c8897a3d781d13f5ff46bd">&#9670;&nbsp;</a></span>counter()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type, unsigned int Alignment = SIMDConfig::defaultAlignment&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classsfz_1_1_buffer_counter.html">BufferCounter</a>&amp; <a class="el" href="classsfz_1_1_buffer.html">sfz::Buffer</a>&lt; Type, Alignment &gt;::counter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the buffer counter object. </p>
<p>TODO: In C++ 17 all of this can be static inline.</p>
<dl class="section return"><dt>Returns</dt><dd>The buffer counter on which you can call various methods. </dd></dl>

</div>
</div>
<a id="a39cf7ea601dc9d488d5f948f22f7c8a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39cf7ea601dc9d488d5f948f22f7c8a6">&#9670;&nbsp;</a></span>resize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type, unsigned int Alignment = SIMDConfig::defaultAlignment&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsfz_1_1_buffer.html">sfz::Buffer</a>&lt; Type, Alignment &gt;::resize </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>newSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resizes the buffer. </p>
<p>Given that std::realloc may return either the same pointer or a new one, you need to account for both cases in the code if you are using deep pointers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newSize</td><td>the new buffer size in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if allocation succeeded </dd>
<dd>
false otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->
			<hr>
			<footer>
				<p style="text-align:left">Copyright &copy; 2019 Paul Ferrand
					<span style="float:right">Generated for sfizz by
						<a href="http://www.doxygen.org/index.html"
							target="_new">Doxygen</a> 1.8.13</span>
				</p>
			</footer>
            </div>
		<script src="./../assets/js/scripts.min.js"></script>
	</body>
</html>
